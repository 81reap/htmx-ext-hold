<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>htmx-ext-hold — minimal demo</title>

  <!-- Allow cross-origin requests in HTMX 2.x -->
  <meta name="htmx-config" content='{"selfRequestsOnly": false}'>

   <!-- HTMX -->
   <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.7"></script>
   <!-- Hold extension (local build) -->
   <script type="module" src="./dist/index.mjs"></script>
</head>
<body hx-ext="hold">
  <h1>Press & hold to fetch</h1>

   <button
     id="holdBtn"
     hx-get="https://jsonplaceholder.typicode.com/todos/1"
     hx-target="#result"
     hx-swap="innerHTML"
     hx-trigger="hold delay:800ms"
     style="position: relative;"
   >
     Hold for 800ms to fetch
     <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 255, 0, 0.5); opacity: var(--hold-progress); pointer-events: none;"></div>
   </button>
  <pre id="result">Waiting…</pre>

  <script>
    // (Optional) See when the request actually fires
    document.body.addEventListener('htmx:beforeRequest', e => console.log('HTMX request starting:', e.detail));
  </script>
</body>
</html>
