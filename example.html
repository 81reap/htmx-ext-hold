<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>htmx-ext-hold — minimal demo</title>

  <!-- Allow cross-origin requests in HTMX 2.x -->
  <meta name="htmx-config" content='{"selfRequestsOnly": false}'>

   <!-- HTMX -->
    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.7"></script>
    <!-- Hold extension via CDN -->
    <script type="module" src="https://cdn.jsdelivr.net/npm/htmx-ext-hold@latest/dist/index.mjs"></script>
</head>
<body hx-ext="hold">
  <h1>Press & hold to fetch</h1>

   <button
     id="holdBtn"
     hx-get="https://jsonplaceholder.typicode.com/todos/1"
     hx-target="#result"
     hx-swap="innerHTML"
     hx-trigger="hold delay:800ms"
   >
     Hold for 800ms to fetch
   </button>

  <pre id="result">Waiting…</pre>

   <script>
     // (Optional) See when the request actually fires
     document.body.addEventListener('htmx:beforeRequest', e => console.log('HTMX request starting:', e.detail));

     // Debug: Check if extension is loaded
     document.addEventListener('DOMContentLoaded', () => {
       console.log('HTMX extensions:', window.htmx?.definedExtensions);
       console.log('Hold extension:', window.htmx?.definedExtensions?.hold);
     });
   </script>
</body>
</html>
